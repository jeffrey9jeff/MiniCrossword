:root{
  --bg:#ffffff; --fg:#111; --muted:#666; --primary:#1a73e8;
  --cell:#fff; --cell-border:#000; --block:#000; --highlight:#ffe58f;
  --select:#b3d4fc; --correct:#b6f2c1; --wrong:#ffd0d0;
}
html.dark{
  --bg:#111; --fg:#eee; --muted:#bbb; --primary:#8ab4f8;
  --cell:#1a1a1a; --cell-border:#555; --block:#000; --highlight:#3a3a18;
  --select:#2a4365; --correct:#244b2a; --wrong:#5a1e1e;
}
*{box-sizing:border-box}
body{margin:0; font:16px/1.35 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial}
.topbar{display:flex; justify-content:space-between; align-items:center; padding:.6rem .8rem; border-bottom:1px solid #ddd; background:var(--bg); color:var(--fg); position:sticky; top:0; z-index:10}
.brand{font-weight:800; letter-spacing:.3px}
.controls{display:flex; gap:.6rem; align-items:center}
.timer{min-width:4ch; text-align:right}
.layout{display:grid; grid-template-columns:minmax(260px,420px) minmax(260px,680px); gap:1rem; padding:1rem; background:var(--bg); color:var(--fg)}
.grid-wrap{display:flex; flex-direction:column; gap:.75rem; align-items:center}
.grid{display:grid; width:min(92vw, 420px); aspect-ratio:1/1; border:2px solid var(--fg); background:var(--bg)}
.cell{position:relative; border:1px solid var(--cell-border); background:var(--cell); display:flex; justify-content:center; align-items:center; font-weight:700; font-size:1.6rem; text-transform:uppercase; cursor:pointer; user-select:none; outline:none}
.cell[aria-selected="true"]{background:var(--select)}
.cell.highlight{background:var(--highlight)}
.cell.block{background:var(--fg); border-color:var(--fg)}
.num{position:absolute; top:1px; left:2px; font-size:.72rem; color:var(--muted); font-weight:800}
.actions{display:grid; grid-template-columns:repeat(4,1fr); gap:.5rem; width:100%}
.actions button, .controls button{padding:.55rem .6rem; border:1px solid #ccc; background:#f7f7f7; border-radius:.5rem; cursor:pointer}
.actions button:hover, .controls button:hover{border-color:var(--primary)}
.keypad{width:100%}
.keypad .keys{display:grid; grid-template-columns:repeat(10,1fr); gap:.3rem}
.keypad button{padding:.6rem 0; font-weight:700}
.clues .row{display:flex; gap:1rem; align-items:flex-start}
.clues .col{flex:1 1 0}
.clue-list{list-style:none; padding:0; margin:.25rem 0 1rem 0}
.clue{padding:.35rem .45rem; border-radius:.35rem; cursor:pointer}
.clue.active{background:var(--select)}
.foot{padding:1rem; text-align:center; color:var(--muted)}
@media (max-width: 900px){
  .layout{grid-template-columns:1fr}
  .actions{grid-template-columns:repeat(2, 1fr)}
}
